# 数据集

## 来自数据集网页的描述

<https://zenodo.org/records/6413405>

此处展示的数据集包含来自公开可用和去标识化的 MIMIC-III 数据集的注释和注释的计划部分，标记了活动问题、其评估描述和计划行动项。行动项还标记为 8 个类别之一（如下所列）。该数据集包含来自不同患者的 579 个笔记的 30,000 多个注释，由 6 名住院医师和学生注释。

数据集分为 4 个分区——训练集（481 个笔记）、验证集（50 个笔记）、测试集（48 个笔记）和评分者间集。

评分者间集包含每个评分者对测试集的注释。评分者间集合中的评分者 1 应被视为评分者内部比较（详见论文）。标签经过自动规范化，以捕获整个单词边界并删除侧翼非字母数字字符。

| Field            | Type 类型                                                    | Semantics 语义                                               |
| ---------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| partition 分区   | categorical (one of [train, val, test, interrater])           | 跨度所属的评级集。                                           |
| rater_id         | int                                                          | 每个评分者的唯一 ID                                          |
| note_id          | int                                                          | 该注释的唯一 note_id，链接到 MIMIC-III 注释表（作为 ROW-ID）。 |
| span_type        | categorical (one of [PROBLEM_TITLE, PROBLEM_DESCRIPTION, ACTION_ITEM]) | 评分者注释的跨度类型。                                       |
| char_start       | int                                                          | 字符开始的字符偏移                                           |
| char_end         | int                                                          |                                                              |
| action_item_type | categorical (one of [MEDICATIONS, IMAGING, OBSERVATIONS_LABS, CONSULTS, NUTRITION, THERAPEUTIC_PROCEDURES, OTHER_DIAGNOSTIC_PROCEDURES, OTHER]) | 如果跨度是评分者注释的操作项（否则为空），则操作项的类型。   |

## 论文中的描述

Labeling and Data Collection

我们将与面向问题的结构相关的 A&P 部分中的文本跨度分为三类：活动问题的**标题**（例如“脓毒症”），它的**描述评估**（例如“尿路感染 的 dd，肺炎”）和计划**行动项目**（例如“趋势 白细胞计数”）。与这些类别无关的文本未被标记。**行动项目**进一步分为八个不同的类别：药物、观察/实验、成像、咨询、营养、治疗程序、其他诊断程序或其他。

我们从 MIMIC-III ICU 数据集的医生写的记录中随机选择了 579 个 A&P 部分，其中包含来自 Beth-Israel Deaconess 医疗中心 ICU 病房的超过 50,000 名患者。选定的记录包括来自 ICU 病房的入院和进展记录。对记录进行抽样，使每个患者最多由一个记录代表。这些记录中大约 90% 用于训练，10% 用于测试集。除非另有说明，否则所有结果均基于测试集。

标签是通过两个程序生成的：人类评分者和临床启发式方法。训练集中的每个记录都由一个评分者标记，测试集的记录由六个标记者标记，一个医生充当基本事实。

与训练集相比，验证集由具有最佳表现（与基本事实相比）的评分者标记，从而可能获得更高的质量。

临床启发式是使用正则表达式实现的，以捕获活动问题的项目符号列表，然后是项目符号列表操作项）。

重要的是，**启发式只捕获跨度类型（问题标题、描述或操作项）**。由于缺乏简单的启发式方法，因此**临床启发式方法中未包括行动项目类型**。

---

Methods - Labeling and Data Collection *

记录从 MIMIC-III note events 表中采样，并根据类别列进行过滤，以仅保留医生记录。记录被作者进一步人工检查，只保留至少有一个非综合生成的评估和计划部分的记录，总共丢弃了 2 个记录。

总共对 579 个记录进行了采样，并将其分为 48 个记录的黄金集、481 个记录的训练集和 50 个记录的验证集。

根据结果中描述的标签说明（并在补充文本 1 中完整介绍），这些记录由 6 名居民和医学生标记。提出了区分描述和行动项目、拆分和合并跨度以及区分行动项目类别的具体指导意见。

训练集和验证集的记录分别由一个评分者标记。**黄金集由所有 6 名评估者标记，其中一名评估者（主要作者，评估者 ID 1）作为基本事实。**

评估者 1 在审查其他评估者之前标记测试集一次，作为评估者内部比较，之后标记一次，作为黄金集。评分者遵循补充文本 1 中的标签说明。评分者在评分前先完成一小部分记录（并接收反馈）或使用说明中的标准化测验进行评估。这些标签经过自动标准化以捕获整个单词边界并删除侧翼的非字母数字字符。

---

Methods - Data Generation

人类标记的记录和 25,000 个启发式标记的记录被处理以生成模型的训练、验证和测试集。25,000 个启发式标记记录的采样方式与人工标记记录类似。重要的是，这些集合在注释或患者级别上没有重叠。此外，两组中的记录都被抽样，样本中代表的每个患者总体上只有一个记录。

**训练集包括基于启发式和人类的标签，验证集和测试集仅包含评级验证和基本事实标记的黄金集（即没有启发式标签）。**这些记录经历了评估和计划部分的提取、基于空白的标记化保持制表符和换行符、数据增强（如上所述）以及转换为 TensorFlow 示例。由综合生成的文本（例如 ICD 代码）组成的 A&P 部分已被删除。

## 我的理解

> 2023.11.23 版本

他论文中的 Labeling and Data Collection 出现了两次，很多话都是重复且在说车轱辘话，很恼火。

首先是他的 NER 分类：

```text
- A&P sections
  - PROBLEM_TITLE
  - PROBLEM_DESCRIPTION
  - ACTION_ITEM (action_item_type)
   - MEDICATIONS
   - OBSERVATIONS_LABS
   - IMAGING
   - CONSULTS
   - NUTRITION
   - THERAPEUTIC_PROCEDURES
   - OTHER_DIAGNOSTIC_PROCEDURES
   - OTHER
```

其次是数据集是什么——近 30,000 多个注释，是把 579 条记录，按照上面的分类标注，由人类评分者完成。

其次，这些记录对应且仅对应一个患者。

579 条记录分为 48 个记录的黄金集（测试集）、481 个记录的训练集和 50 个记录的验证集。

*简要了解一下这三种数据集的概念：<https://blog.csdn.net/apprentice_eye/article/details/131775799>*

此外，注意是此外。有 25,000 个启发式标记的记录**被加入且仅位于训练集**。启发式只捕获跨度类型（问题标题、描述或操作项）。由于缺乏简单的启发式方法，因此临床启发式方法中未包括行动项目类型。

所以就注意到，论文提供的数据集不包括这些启发式标记的记录。事实上在该数据集的介绍里也没有这些内容。这也是为什么在 Methods - Data Generation 提到了启发式标记（当然也提到了数据增强，但目前先不考虑）。
